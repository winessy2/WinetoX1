local Rayfield = loadstring(game:HttpGet("https://sirius.menu/rayfield"))()

local Window = Rayfield:CreateWindow({

   Name = "WinetoX Hub v0.1",
   LoadingTitle = "WinetoX Loader",
   LoadingSubtitle = "Ultimate GUI by WinetoX",
   ConfigurationSaving = {
      Enabled = true,
      FolderName = "WinetoXData",
      FileName = "WinetoX_Config"
   },
   KeySystem = true,
   KeySettings = {
      Title = "WinetoX | Key System",
      Subtitle = "Введите ключ",
      Note = "",
      FileName = "WinetoXKey",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"WinetoX"}
   }
})

--  вкладкэ
local combatTab = Window:CreateTab("Combat", nil)
local movementTab = Window:CreateTab("Movement", nil)
local renderTab = Window:CreateTab("Render", nil)
local miscTab = Window:CreateTab("Misc", nil)


local player = game.Players.LocalPlayer
local UIS = game:GetService("UserInputService")
local RunService = game:GetService("RunService")
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local speed = 16
local noclip = false
local infJumpEnabled = false

-- спидозный
player.CharacterAdded:Connect(function(char)
	character = char
	humanoid = char:WaitForChild("Humanoid")
	humanoid.WalkSpeed = speed
	humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
		if humanoid.WalkSpeed ~= speed then
			humanoid.WalkSpeed = speed
		end
	end)
end)

movementTab:CreateButton({
	Name = "Speed 72",
	Callback = function()
		speed = 72
		humanoid.WalkSpeed = speed
		humanoid:GetPropertyChangedSignal("WalkSpeed"):Connect(function()
			if humanoid.WalkSpeed ~= speed then
				humanoid.WalkSpeed = speed
			end
		end)
		Rayfield:Notify({
			Title = "Скорость установлена",
			Content = "Спиды установлены теперь ты спидозный",
			Duration = 4
		})
	end
})

-- ноклип
RunService.Stepped:Connect(function()
	if noclip and character then
		for _, part in pairs(character:GetDescendants()) do
			if part:IsA("BasePart") and part.CanCollide then
				part.CanCollide = false
			end
		end
	end
end)

movementTab:CreateToggle({
	Name = "Noclip",
	CurrentValue = false,
	Flag = "NoclipToggle",
	Callback = function(Value)
		noclip = Value
		Rayfield:Notify({
			Title = noclip and "Noclip включен" or "Noclip выключен",
			Content = noclip and "сам знаешь чо такое Noclip" or "Физика включена.",
			Duration = 4
		})
	end
})

-- базе финдер(мега важная функция без нее - пол функций)
local function FindPlayerBase()
	local basesFolder = workspace:FindFirstChild("Bases")
	local playerName = player.Name

	if not basesFolder then return nil end

	for _, base in ipairs(basesFolder:GetChildren()) do
		local config = base:FindFirstChild("Configuration")
		if config then
			local playerValue = config:FindFirstChild("Player")
			if playerValue and tostring(playerValue.Value) == playerName then
				return base
			end
		end
	end

	return nil
end

--  тп на базу
local playerBase = FindPlayerBase()

if playerBase then
	movementTab:CreateButton({
		Name = "Телепорт к базе",
		Callback = function()
			local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")
			local collectZone = playerBase:FindFirstChild("CollectZone", true)
			if root and collectZone then
				root.CFrame = collectZone.CFrame + Vector3.new(0, 5, 0)
				Rayfield:Notify({
					Title = "Телепорт выполнен",
					Content = "Ты у базы!",
					Duration = 4
				})
			else
				Rayfield:Notify({
					Title = "Ошибка",
					Content = "CollectZone или HRP не найдены.",
					Duration = 4
				})
			end
		end
	})
end

-- ESP
renderTab:CreateToggle({
	Name = "ESP 0.2",
	CurrentValue = false,
	Flag = "ESPToggle",
	Callback = function(enabled)
		local function applyESP(targetPlayer)
			if targetPlayer == player then return end
			if not targetPlayer.Character then return end

			local char = targetPlayer.Character

			-- Highlight
			if not char:FindFirstChild("WinetoX_Highlight") then
				local highlight = Instance.new("Highlight")
				highlight.Name = "WinetoX_Highlight"
				highlight.FillColor = Color3.fromRGB(255, 100, 100)
				highlight.OutlineColor = Color3.fromRGB(255, 255, 255)
				highlight.FillTransparency = 0.5
				highlight.OutlineTransparency = 0
				highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
				highlight.Adornee = char
				highlight.Parent = char
			end

			-- NameTag
			local head = char:FindFirstChild("Head")
			if head and not head:FindFirstChild("NameTag") then
				local tag = Instance.new("BillboardGui", head)
				tag.Name = "NameTag"
				tag.Size = UDim2.new(0, 200, 0, 50)
				tag.StudsOffset = Vector3.new(0, 2, 0)
				tag.AlwaysOnTop = true

				local label = Instance.new("TextLabel", tag)
				label.Size = UDim2.new(1, 0, 1, 0)
				label.BackgroundTransparency = 1
				label.TextColor3 = Color3.new(1, 1, 1)
				label.TextStrokeTransparency = 0
				label.Text = targetPlayer.Name
				label.Font = Enum.Font.SourceSansBold
				label.TextScaled = true
			end
		end

		local function removeESP(targetPlayer)
			if targetPlayer.Character then
				local char = targetPlayer.Character

				local highlight = char:FindFirstChild("WinetoX_Highlight")
				if highlight then highlight:Destroy() end

				local head = char:FindFirstChild("Head")
				if head then
					local tag = head:FindFirstChild("NameTag")
					if tag then tag:Destroy() end
				end
			end
		end

		if enabled then
			for _, p in pairs(game.Players:GetPlayers()) do
				applyESP(p)
			end

			game.Players.PlayerAdded:Connect(function(p)
				p.CharacterAdded:Connect(function()
					if lockBaseEnabled then wait(1) end
					applyESP(p)
				end)
			end)

			for _, p in pairs(game.Players:GetPlayers()) do
				p.CharacterAdded:Connect(function()
					if lockBaseEnabled then wait(1) end
					applyESP(p)
				end)
			end
		else
			for _, p in pairs(game.Players:GetPlayers()) do
				removeESP(p)
			end
		end
	end
})

-- Флай бай (XNEOFF)
movementTab:CreateButton({
	Name = "Fly Bypass (XNEOFF)",
	Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
		Rayfield:Notify({
			Title = "актевэрован флай",
			Content = "Fly байпасс XNEOFF загружен!",
			Duration = 5
		})
	end
})

-- энф джамп
UIS.JumpRequest:Connect(function()
	if infJumpEnabled then
		local h = player.Character and player.Character:FindFirstChildOfClass("Humanoid")
		if h then
			h:ChangeState(Enum.HumanoidStateType.Jumping)
		end
	end
end)

movementTab:CreateToggle({
	Name = "Infinite Jump",
	CurrentValue = false,
	Flag = "InfJumpToggle",
	Callback = function(state)
		infJumpEnabled = state
		Rayfield:Notify({
			Title = "Infinite Jump",
			Content = state and "бесконечные прижкы" or "теперь прыжки ограничены",
			Duration = 4
		})
	end
})

-- какойта промти байпасс
miscTab:CreateButton({
	Name = "ProximityPrompt = 0",
	Callback = function()
		local function bypassPrompt(prompt)
			if prompt:IsA("ProximityPrompt") then
				prompt.HoldDuration = 0
				prompt.RequiresLineOfSight = false
			end
		end

		for _, obj in ipairs(workspace:GetDescendants()) do
			bypassPrompt(obj)
		end

		workspace.DescendantAdded:Connect(function(descendant)
			bypassPrompt(descendant)
		end)

		Rayfield:Notify({
			Title = "Готово!",
			Content = "Все промти за 0 секунд нажимаются",
			Duration = 5
		})
	end
})

-- лок базы (байпасс того баз финдера)
local lockBaseEnabled = false

miscTab:CreateToggle({
	Name = "Авто Lock Base",
	CurrentValue = false,
	Flag = "LockBaseToggle",
	Callback = function(state)
		lockBaseEnabled = state
		Rayfield:Notify({
			Title = "Lock Base",
			Content = state and "Авто Lock включен" or "Авто Lock выключен",
			Duration = 4
		})
	end
})
task.spawn(function()
	while true do
		if lockBaseEnabled then
			local base = FindPlayerBase()
			local root = player.Character and player.Character:FindFirstChild("HumanoidRootPart")

			if base and root then
				local lock = base:FindFirstChild("Lock", true)
				if lock and lock:IsA("BasePart") then
					local timer = lock:FindFirstChild("LockAttachment", true)
					if timer then
						timer = timer:FindFirstChild("LockGui", true)
						if timer then
							timer = timer:FindFirstChild("Timer", true)
							if timer and timer:IsA("TextLabel") then
								if timer.Text == "0s" then
									local originalCFrame = lock.CFrame

									lock.CFrame = root.CFrame
									lock.CanCollide = false
									lock.Transparency = 1

									Rayfield:Notify({
										Title = "Lock вклучен",
										Content = "Lock ушол",
										Duration = 3
									})

									task.wait(0.4) -- не ставьте 0.1 и меньше а то полетит все нахуй

									lock.CFrame = originalCFrame
									lock.CanCollide = true
									lock.Transparency = 0

									Rayfield:Notify({
										Title = "Lock вернулся",
										Content = "Lock теперь видимка",
										Duration = 3
									})

									-- Подождём немного, чтобы не сработало повторно
									task.wait(1.5)
								end
							end
						end
					end
				end
			end
		end
		task.wait(0.2)
	end
end)

-- моя топ разработка разраб хуй пофиксит у меня еще 3+ обходов + ач у вас хуйня
combatTab:CreateButton({
	Name = "InstantSteal Bypass (WinetoX)",
	Callback = function()
		loadstring(game:HttpGet("https://raw.githubusercontent.com/winessy2/WinetoX1/refs/heads/main/InstantSteal"))()
		Rayfield:Notify({
			Title = "актевэрован стил",
			Content = "Steal байпасс WinetoX загружен!",
			Duration = 5
		})
	end
})
